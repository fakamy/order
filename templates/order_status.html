<!DOCTYPE html>
<html lang="en">

<head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Order Status</title>
                <style>
                                * {
                                                box-sizing: border-box;
                                                margin: 0;
                                                padding: 0;
                                }

                                body {
                                                font-family: Arial, sans-serif;
                                                text-align: center;
                                                transition: background-color 1s ease;
                                                padding: 20px;
                                                display: flex;
                                                flex-direction: column;
                                                min-height: 100vh;
                                                justify-content: center;
                                }

                                .container {
                                                max-width: 600px;
                                                margin: 0 auto;
                                                padding: 20px;
                                                background-color: #f9f9f9;
                                                border-radius: 10px;
                                                box-shadow: 0 0 10px rgba(0,0,0,0.1);
                                }

                                .logo {
                                                width: 300px;
                                                height: auto;
                                                margin-bottom: 20px;
                                                margin: 0 auto 20px;
                                                background-color: #f0f0f0;
                                                
                                                display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                font-size: 20px;
                                                font-weight: bold;
                                }

                                .order-info {
                                                margin: 20px 0;
                                                h4{
                                                                color:red;
                                                }
                                }

                                h2 {
                                                font-size: 24px;
                                                margin-bottom: 10px;
                                }

                                p {
                                                font-size: 18px;
                                                margin-bottom: 10px;
                                }

                                #order-status {
                                                font-weight: bold;
                                }

                                .completed {
                                                background-color: #4CAF50;
                                                color: black;
                                }

                                #completion-message {
                                    h2{
                                        color:green;
                                    }
                                                margin-top: 20px;
                                }

                                @media (max-width: 480px) {
                                                .container {
                                                        padding: 15px;
                                                }

                                                .logo {
                                                        
                                                        font-size: 18px;
                                                }

                                                h2 {
                                                        font-size: 20px;
                                                }

                                                p {
                                                        font-size: 16px;
                                                }
                                }
                </style>
</head>

<body>
                <div class="container">
                                <div class="logo"><img src="{{ url_for('static', filename='logo.png') }}"
                                    alt="Coffee Shop Logo" class="logo"></div>
                                <h2>Order #{{ order['id'] }}</h2>
                                <div id="order-info" class="order-info" style="display: block;">
                                                
                                    <h4>Please do not close this page. You will be notified once your order has been completed.</h4>
                                    <br/>
                                                <p>Status: <span id="order-status">{{ order['status'] }}</span></p>
                                </div>

                                <div id="completion-message" style="display: none;">
                                                <h2>Your order is ready!</h2>
                                                <p>Please pick up your order at the counter.</p>
                                </div>
                                                    <div ><img src="{{ url_for('static', filename='ssdulogo.png') }}"
                                                        alt="SSDU logo" width="300px"></div>
                </div>

                <script>
                                function checkOrderStatus() {
                                                fetch('/get_order_status/{{ order["id"] }}')
                                                                .then(response => response.json())
                                                                .then(data => {
                                                                                document.getElementById('order-status').textContent = data.status;
                                                                                if (data.status === 'completed') {
                                                                                                document.body.classList.add('completed');
                                                                                                document.getElementById('completion-message').style.display = 'block';

document.getElementById('order-info').style.display = 'none';
                                                                                }
                                                                });
                                }

                                setInterval(checkOrderStatus, 5000); // Check status every 5 seconds
                </script>
</body>

</html>
